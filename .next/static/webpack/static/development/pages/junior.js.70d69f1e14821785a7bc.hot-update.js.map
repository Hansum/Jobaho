{"version":3,"file":"static/webpack/static\\development\\pages\\junior.js.70d69f1e14821785a7bc.hot-update.js","sources":["webpack:///./pages/junior.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport useSWR from \"swr\";\r\nimport JobCardsLayout from \"../components/JobsectionCards\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport NextLink from \"next/link\";\r\nimport Loader from \"../components/LoadingLayout\";\r\nimport {\r\n  Box,\r\n  Flex,\r\n  Text,\r\n  Button,\r\n  ButtonGroup,\r\n  Link,\r\n  Input,\r\n} from \"@chakra-ui/core\";\r\n\r\nconst fetcher = async (url) => {\r\n  const res = await fetch(url);\r\n  const data = await res.json();\r\n\r\n  if (res.status !== 200) {\r\n    throw new Error(\"error\", data.message);\r\n  }\r\n  return data;\r\n};\r\n\r\nconst SearchBar = ({ searchJob }) => {\r\n  const [value, setValue] = useState(\"\");\r\n  const handleChange = (event) => setValue(event.target.value);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!value) return;\r\n    searchJob(value);\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <Input\r\n        value={value}\r\n        onChange={handleChange}\r\n        placeholder=\"Search Job Title\"\r\n        size=\"md\"\r\n      ></Input>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst searchJob = ({ value }) => {\r\n  // const { query } = useRouter();\r\n  const { data, error } = useSWR(\r\n    `/api/juniorAPI${value ? \"?keyword=\" + value : \"\"}`,\r\n    fetcher\r\n  );\r\n\r\n  if (error) return <div>Failed to load entry level api</div>;\r\n  if (!data) return <Loader>Scraping Junior Level Jobs</Loader>;\r\n\r\n  return (\r\n    <Flex flexWrap=\"wrap\" justifyContent=\"center\">\r\n      {data.entry_level.map((res, index) => {\r\n        const { Job_Position, Job_Company_Name, Job_Location, Job_url } = res;\r\n        return (\r\n          <JobCards\r\n            index={index}\r\n            title={Job_Position}\r\n            company={Job_Company_Name}\r\n            location={Job_Location}\r\n            url={Job_url}\r\n          ></JobCards>\r\n        );\r\n      })}\r\n    </Flex>\r\n  );\r\n};\r\n\r\nconst JobCards = ({ title, company, location, url, index }) => {\r\n  return (\r\n    <Box\r\n      m={3}\r\n      borderWidth=\"1px\"\r\n      bg=\"white\"\r\n      flex=\"0 1 24%\"\r\n      p={6}\r\n      rounded=\"lg\"\r\n      mt={5}\r\n      key={index}\r\n    >\r\n      <Box>\r\n        <Box\r\n          color=\"gray.500\"\r\n          fontWeight=\"semibold\"\r\n          letterSpacing=\"wide\"\r\n          textTransform=\"uppercase\"\r\n          fontSize=\"xs\"\r\n          textAlign=\"center\"\r\n        >\r\n          {company}\r\n        </Box>\r\n      </Box>\r\n      <Box\r\n        mt=\"2\"\r\n        fontWeight=\"semibold\"\r\n        fontSize=\"lg\"\r\n        textAlign=\"center\"\r\n        color=\"blue.600\"\r\n      >\r\n        <Link href={url} isExternal>\r\n          {title}\r\n        </Link>\r\n      </Box>\r\n      <Box mt=\"2\" color=\"gray.600\" fontSize=\"sm\" textAlign=\"center\">\r\n        {location}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default function FetchData() {\r\n  const { data, error } = useSWR(\"/api/juniorAPI\", fetcher);\r\n\r\n  console.log(\"Input value:\", data);\r\n\r\n  if (error) return <div>Failed to load entry level api</div>;\r\n  if (!data) {\r\n    return <Loader>Scraping Junior Level Jobs</Loader>;\r\n  }\r\n\r\n  //BOX ----> DIV\r\n  return (\r\n    <JobCardsLayout>\r\n      <Box>\r\n        <Box p={3} textAlign=\"center\">\r\n          <Text\r\n            color=\"white\"\r\n            textAlign=\"center\"\r\n            fontSize=\"40px\"\r\n            fontFamily=\"Sen\"\r\n          >\r\n            Junior / Entry Level Jobs\r\n          </Text>\r\n        </Box>\r\n\r\n        <Text\r\n          color=\"white\"\r\n          m={5}\r\n          textAlign=\"center\"\r\n          fontSize=\"20px\"\r\n          fontFamily=\"Sen\"\r\n        >\r\n          Number of Jobs: {data.length}\r\n        </Text>\r\n\r\n        <SearchBar searchJob={searchJob}></SearchBar>\r\n        <Flex flexWrap=\"wrap\" justifyContent=\"center\">\r\n          {data.entry_level.map((res, index) => {\r\n            const {\r\n              Job_Position,\r\n              Job_Company_Name,\r\n              Job_Location,\r\n              Job_url,\r\n            } = res;\r\n            return (\r\n              <JobCards\r\n                index={index}\r\n                title={Job_Position}\r\n                company={Job_Company_Name}\r\n                location={Job_Location}\r\n                url={Job_url}\r\n              ></JobCards>\r\n            );\r\n          })}\r\n        </Flex>\r\n      </Box>\r\n    </JobCardsLayout>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAKA;;;;A","sourceRoot":""}