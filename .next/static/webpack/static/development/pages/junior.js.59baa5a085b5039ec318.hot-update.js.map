{"version":3,"file":"static/webpack/static\\development\\pages\\junior.js.59baa5a085b5039ec318.hot-update.js","sources":["webpack:///./pages/junior.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Router, { useRouter } from \"next/router\";\r\nimport useSWR, { mutate } from \"swr\";\r\nimport JobCardsLayout from \"../components/JobsectionCards\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport NextLink from \"next/link\";\r\nimport Loader from \"../components/LoadingLayout\";\r\nimport JobCards from \"../components/CardsLayout\";\r\nimport {\r\n  Box,\r\n  Flex,\r\n  Text,\r\n  Button,\r\n  ButtonGroup,\r\n  Link,\r\n  Input,\r\n} from \"@chakra-ui/core\";\r\n\r\nconst fetcher = async (...url) => {\r\n  const res = await fetch(...url);\r\n  const data = await res.json();\r\n\r\n  if (res.status !== 200) {\r\n    throw new Error(\"error\", data.message);\r\n  }\r\n  return data;\r\n};\r\n\r\nexport default function FetchData(req, res) {\r\n  const [value, setValue] = useState(\"\");\r\n  const title = req.query;\r\n  // const { query } = useRouter();\r\n  // const { data, error } = useSWR(\"/api/juniorAPI\", fetcher);\r\n  const { data, error } = useSWR(\r\n    `/api/juniorAPI${title ? \"?keyword=\" + title : \"\"}`,\r\n    fetcher\r\n  );\r\n\r\n  // const handleSubmit = async (e) => {\r\n  //   e.preventDefault();\r\n\r\n  //   mutate(\"/api/juniorAPI\", value, false);\r\n\r\n  //   mutate(\r\n  //     \"/api/juniorAPI\",\r\n  //     await fetcher(\"/api/juniorAPI\", {\r\n  //       method: \"POST\",\r\n  //       body: JSON.stringify(value),\r\n  //     })\r\n  //     // Router.push({\r\n  //     //   pathname: \"/api/juniorAPI\",\r\n  //     //   query: { keyword: value },\r\n  //     // })\r\n  //   );\r\n  //   setValue(\"\");\r\n  // };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    Router.push({\r\n      pathname: \"/junior\",\r\n      query: { title: value },\r\n    });\r\n  };\r\n\r\n  console.log(\"Input value:\", data);\r\n\r\n  if (error) return <div>Failed to load entry level api</div>;\r\n  if (!data) {\r\n    return <Loader>Scraping Junior Level Jobs</Loader>;\r\n  }\r\n\r\n  //BOX ----> DIV\r\n  return (\r\n    <JobCardsLayout>\r\n      <Box>\r\n        <Box p={3} textAlign=\"center\">\r\n          <Text\r\n            color=\"white\"\r\n            textAlign=\"center\"\r\n            fontSize=\"40px\"\r\n            fontFamily=\"Sen\"\r\n          >\r\n            Junior / Entry Level Jobs\r\n          </Text>\r\n        </Box>\r\n\r\n        <Text\r\n          color=\"white\"\r\n          m={5}\r\n          textAlign=\"center\"\r\n          fontSize=\"20px\"\r\n          fontFamily=\"Sen\"\r\n        >\r\n          Number of Jobs: {data.length}\r\n        </Text>\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            value={value}\r\n            onChange={(event) => setValue(event.target.value)}\r\n          ></input>\r\n          <Button variantColor=\"green\">Search</Button>\r\n        </form>\r\n        <Flex flexWrap=\"wrap\" justifyContent=\"center\">\r\n          {data.entry_level.map((res, index) => {\r\n            const {\r\n              Job_Position,\r\n              Job_Company_Name,\r\n              Job_Location,\r\n              Job_url,\r\n            } = res;\r\n            return (\r\n              <JobCards\r\n                index={index}\r\n                title={Job_Position}\r\n                company={Job_Company_Name}\r\n                location={Job_Location}\r\n                url={Job_url}\r\n              ></JobCards>\r\n            );\r\n          })}\r\n        </Flex>\r\n      </Box>\r\n    </JobCardsLayout>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AALA;AAAA;AAAA;AAWA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAKA;;;;A","sourceRoot":""}