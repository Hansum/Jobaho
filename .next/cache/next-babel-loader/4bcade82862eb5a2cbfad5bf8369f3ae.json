{"ast":null,"code":"// const axios = require(\"axios\");\n// const fetchIndreedAPI = async () => {\n//   const arr = [];\n//   const api =\n//     \"https://indreed.herokuapp.com/api/jobs?q=Software%20Developer&l=Cebu&country=ph&max=30\";\n//   return await axios\n//     .get(api)\n//     .then((res) => {\n//       return res.data;\n//     })\n//     .catch((err) => {\n//       console.log(\"error fetching in indreed API\");\n//     });\n// };\n// const RemoveKeywords = async () => {\n//   const data = await fetchIndreedAPI();\n//   const finalarr = [];\n//   const keyWords = [\"Senior\", \"Sr\", \"Manager\", \"Lead\"];\n//     if (data !== undefined) {\n//         for (let item of data) {\n//           const exists = keyWords.some((res) => item.title.includes(res));\n//           if (exists) {\n//             finalarr.push(item);\n//           }\n//         }\n//     } else {\n//         finalarr.push({title:\"No data from indeed\"})\n//     }\n//   return finalarr;\n// };\n// const SeniorJobData = async () => {\n//   const senior_level = await RemoveKeywords();\n//   const length = senior_level.length;\n//   // console.log(\"senior data:\", senior_level);\n//   return { senior_level, length };\n// };\n// module.exports = SeniorJobData;\nconst indeed = require(\"indeed-scraper\");\n\nconst fetchIndeedData = async () => {\n  const queryOptions = {\n    host: \"www.indeed.com.ph\",\n    query: \"Software\",\n    city: \"Cebu\",\n    radius: \"30\",\n    level: \"senior_level\",\n    jobType: \"fulltime\",\n    maxAge: \"30\",\n    sort: \"date\",\n    limit: 100\n  };\n  return indeed.query(queryOptions).then(res => {\n    return res;\n  });\n};\n\nconst filterJob = async () => {\n  const jobData = await fetchIndeedData();\n  const arr = [];\n  const keyWords = [\"Senior\", \"Sr\", \"Manager\", \"Lead\"];\n\n  if (jobData) {\n    for (let item of jobData) {\n      const exists = keyWords.some(res => item.title.includes(res));\n\n      if (exists) {\n        arr.push(item);\n      }\n    }\n  } else {\n    console.log(\"No data from sendIndreedData\");\n  }\n\n  return arr;\n};\n\nmodule.exports = filterJob;","map":{"version":3,"sources":["C:/Users/chris/Desktop/Jobaho/data/seniorData.js"],"names":["indeed","require","fetchIndeedData","queryOptions","host","query","city","radius","level","jobType","maxAge","sort","limit","then","res","filterJob","jobData","arr","keyWords","item","exists","some","title","includes","push","console","log","module","exports"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAtB;;AAEA,MAAMC,eAAe,GAAG,YAAY;AAClC,QAAMC,YAAY,GAAG;AACnBC,IAAAA,IAAI,EAAE,mBADa;AAEnBC,IAAAA,KAAK,EAAE,UAFY;AAGnBC,IAAAA,IAAI,EAAE,MAHa;AAInBC,IAAAA,MAAM,EAAE,IAJW;AAKnBC,IAAAA,KAAK,EAAE,cALY;AAMnBC,IAAAA,OAAO,EAAE,UANU;AAOnBC,IAAAA,MAAM,EAAE,IAPW;AAQnBC,IAAAA,IAAI,EAAE,MARa;AASnBC,IAAAA,KAAK,EAAE;AATY,GAArB;AAYA,SAAOZ,MAAM,CAACK,KAAP,CAAaF,YAAb,EAA2BU,IAA3B,CAAiCC,GAAD,IAAS;AAC9C,WAAOA,GAAP;AACD,GAFM,CAAP;AAGD,CAhBD;;AAkBA,MAAMC,SAAS,GAAG,YAAY;AAC5B,QAAMC,OAAO,GAAG,MAAMd,eAAe,EAArC;AACA,QAAMe,GAAG,GAAG,EAAZ;AACA,QAAMC,QAAQ,GAAG,CAAC,QAAD,EAAW,IAAX,EAAiB,SAAjB,EAA4B,MAA5B,CAAjB;;AAEA,MAAIF,OAAJ,EAAa;AACX,SAAK,IAAIG,IAAT,IAAiBH,OAAjB,EAA0B;AACxB,YAAMI,MAAM,GAAGF,QAAQ,CAACG,IAAT,CAAeP,GAAD,IAASK,IAAI,CAACG,KAAL,CAAWC,QAAX,CAAoBT,GAApB,CAAvB,CAAf;;AAEA,UAAIM,MAAJ,EAAY;AACVH,QAAAA,GAAG,CAACO,IAAJ,CAASL,IAAT;AACD;AACF;AACF,GARD,MAQO;AACLM,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACD;;AACD,SAAOT,GAAP;AACD,CAjBD;;AAmBAU,MAAM,CAACC,OAAP,GAAiBb,SAAjB","sourcesContent":["// const axios = require(\"axios\");\r\n\r\n// const fetchIndreedAPI = async () => {\r\n//   const arr = [];\r\n//   const api =\r\n//     \"https://indreed.herokuapp.com/api/jobs?q=Software%20Developer&l=Cebu&country=ph&max=30\";\r\n\r\n//   return await axios\r\n//     .get(api)\r\n//     .then((res) => {\r\n//       return res.data;\r\n//     })\r\n//     .catch((err) => {\r\n//       console.log(\"error fetching in indreed API\");\r\n//     });\r\n// };\r\n\r\n// const RemoveKeywords = async () => {\r\n//   const data = await fetchIndreedAPI();\r\n//   const finalarr = [];\r\n//   const keyWords = [\"Senior\", \"Sr\", \"Manager\", \"Lead\"];\r\n\r\n//     if (data !== undefined) {\r\n\r\n//         for (let item of data) {\r\n//           const exists = keyWords.some((res) => item.title.includes(res));\r\n//           if (exists) {\r\n//             finalarr.push(item);\r\n//           }\r\n//         }\r\n//     } else {\r\n//         finalarr.push({title:\"No data from indeed\"})\r\n//     }\r\n//   return finalarr;\r\n// };\r\n\r\n// const SeniorJobData = async () => {\r\n//   const senior_level = await RemoveKeywords();\r\n//   const length = senior_level.length;\r\n//   // console.log(\"senior data:\", senior_level);\r\n//   return { senior_level, length };\r\n// };\r\n\r\n// module.exports = SeniorJobData;\r\n\r\nconst indeed = require(\"indeed-scraper\");\r\n\r\nconst fetchIndeedData = async () => {\r\n  const queryOptions = {\r\n    host: \"www.indeed.com.ph\",\r\n    query: \"Software\",\r\n    city: \"Cebu\",\r\n    radius: \"30\",\r\n    level: \"senior_level\",\r\n    jobType: \"fulltime\",\r\n    maxAge: \"30\",\r\n    sort: \"date\",\r\n    limit: 100,\r\n  };\r\n\r\n  return indeed.query(queryOptions).then((res) => {\r\n    return res;\r\n  });\r\n};\r\n\r\nconst filterJob = async () => {\r\n  const jobData = await fetchIndeedData();\r\n  const arr = [];\r\n  const keyWords = [\"Senior\", \"Sr\", \"Manager\", \"Lead\"];\r\n\r\n  if (jobData) {\r\n    for (let item of jobData) {\r\n      const exists = keyWords.some((res) => item.title.includes(res));\r\n\r\n      if (exists) {\r\n        arr.push(item);\r\n      }\r\n    }\r\n  } else {\r\n    console.log(\"No data from sendIndreedData\");\r\n  }\r\n  return arr;\r\n};\r\n\r\nmodule.exports = filterJob;\r\n"]},"metadata":{},"sourceType":"script"}