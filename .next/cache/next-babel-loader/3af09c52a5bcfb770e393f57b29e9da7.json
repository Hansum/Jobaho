{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\chris\\\\Desktop\\\\Jobaho\\\\pages\\\\mid.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport useSWR from \"swr\";\nimport JobCardsLayout from \"../components/JobsectionCards\";\nimport Loader from \"../components/LoadingLayout\";\nimport fetch from \"isomorphic-unfetch\";\nimport JobCards from \"../components/CardsLayout\";\nimport { Box, Flex, Link, Text, Button, ButtonGroup } from \"@chakra-ui/core\";\n\nvar fetcher = function fetcher(url) {\n  var res, data;\n  return _regeneratorRuntime.async(function fetcher$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch(url));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context.sent;\n\n          if (!(res.status !== 200)) {\n            _context.next = 8;\n            break;\n          }\n\n          throw new Error(\"error\", data.message);\n\n        case 8:\n          return _context.abrupt(\"return\", data);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default function FetchData() {\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query;\n\n  var _useSWR = useSWR(\"/api/midAPI\".concat(query.title ? \"?keyword=\" + query.title : \"\"), fetcher),\n      data = _useSWR.data,\n      error = _useSWR.error; // const { data, error } = useSWR(\"/api/midAPI\", fetcher);\n  // console.log(\"Data:\", data);\n\n\n  if (error) return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 21\n    }\n  }, \"Failed to load mid api\");\n\n  if (!data) {\n    return __jsx(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 12\n      }\n    }, \"Scraping Mid Level Jobs\");\n  }\n\n  var handleSubmit = function handleSubmit(e) {\n    return _regeneratorRuntime.async(function handleSubmit$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            e.preventDefault();\n            Router.push({\n              pathname: \"/mid\",\n              query: {\n                title: value\n              }\n            });\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }; //BOX ----> DIV\n\n\n  return __jsx(JobCardsLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(Text, {\n    color: \"white\",\n    m: 5,\n    textAlign: \"center\",\n    fontSize: \"30px\",\n    fontFamily: \"Sen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Mid Level Jobs\"), __jsx(Text, {\n    color: \"white\",\n    m: 5,\n    textAlign: \"center\",\n    fontSize: \"20px\",\n    fontFamily: \"Sen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Number of Jobs: \", data.length), __jsx(Flex, {\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    textAlign: \"center\",\n    type: \"text\",\n    size: \"lg\",\n    placeholder: \"Search job position..\",\n    value: value,\n    onChange: function onChange(event) {\n      return setValue(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }))), __jsx(Flex, {\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, data.mid_level.map(function (res, index) {\n    var title = res.title,\n        company = res.company,\n        location = res.location,\n        url = res.url;\n    return __jsx(JobCards, {\n      title: title,\n      company: company,\n      location: location,\n      url: url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    });\n  }))));\n}","map":{"version":3,"sources":["C:/Users/chris/Desktop/Jobaho/pages/mid.js"],"names":["React","useState","useEffect","useSWR","JobCardsLayout","Loader","fetch","JobCards","Box","Flex","Link","Text","Button","ButtonGroup","fetcher","url","res","json","data","status","Error","message","FetchData","value","setValue","useRouter","query","title","error","handleSubmit","e","preventDefault","Router","push","pathname","length","event","target","mid_level","map","index","company","location"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport JobCardsLayout from \"../components/JobsectionCards\";\r\nimport Loader from \"../components/LoadingLayout\";\r\nimport fetch from \"isomorphic-unfetch\";\r\nimport JobCards from \"../components/CardsLayout\";\r\nimport { Box, Flex, Link, Text, Button, ButtonGroup } from \"@chakra-ui/core\";\r\n\r\nconst fetcher = async (url) => {\r\n  const res = await fetch(url);\r\n  const data = await res.json();\r\n\r\n  if (res.status !== 200) {\r\n    throw new Error(\"error\", data.message);\r\n  }\r\n  return data;\r\n};\r\n\r\nexport default function FetchData() {\r\n  const [value, setValue] = useState(\"\");\r\n  const { query } = useRouter();\r\n  const { data, error } = useSWR(\r\n    `/api/midAPI${query.title ? \"?keyword=\" + query.title : \"\"}`,\r\n    fetcher\r\n  );\r\n  // const { data, error } = useSWR(\"/api/midAPI\", fetcher);\r\n  // console.log(\"Data:\", data);\r\n\r\n  if (error) return <div>Failed to load mid api</div>;\r\n  if (!data) {\r\n    return <Loader>Scraping Mid Level Jobs</Loader>;\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    Router.push({\r\n      pathname: \"/mid\",\r\n      query: { title: value },\r\n    });\r\n  };\r\n\r\n  //BOX ----> DIV\r\n  return (\r\n    <JobCardsLayout>\r\n      <Box>\r\n        <Text\r\n          color=\"white\"\r\n          m={5}\r\n          textAlign=\"center\"\r\n          fontSize=\"30px\"\r\n          fontFamily=\"Sen\"\r\n        >\r\n          Mid Level Jobs\r\n        </Text>\r\n        <Text\r\n          color=\"white\"\r\n          m={5}\r\n          textAlign=\"center\"\r\n          fontSize=\"20px\"\r\n          fontFamily=\"Sen\"\r\n        >\r\n          Number of Jobs: {data.length}\r\n        </Text>\r\n        <Flex justifyContent=\"center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <Input\r\n              textAlign=\"center\"\r\n              type=\"text\"\r\n              size=\"lg\"\r\n              placeholder=\"Search job position..\"\r\n              value={value}\r\n              onChange={(event) => setValue(event.target.value)}\r\n            ></Input>\r\n          </form>\r\n        </Flex>\r\n        <Flex flexWrap=\"wrap\" justifyContent=\"center\">\r\n          {data.mid_level.map((res, index) => {\r\n            const { title, company, location, url } = res;\r\n            return (\r\n              <JobCards\r\n                title={title}\r\n                company={company}\r\n                location={location}\r\n                url={url}\r\n              ></JobCards>\r\n            );\r\n          })}\r\n        </Flex>\r\n      </Box>\r\n    </JobCardsLayout>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}